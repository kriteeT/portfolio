"use strict";jQuery(document).ready(function($){function funcTableMiniOrder(el,option){if(2!==arguments.length||!/(save|close|edit)/g.test(option))return console.error('this function have 2 arguments only ($(element),"option") or this not a option(save, close, edit'),!1;var $thisParent=$(el).parents("tr");if("delete"===option)return $thisParent.remove(),!1;var $inputVolume=$thisParent.find(".input-volume-order"),$inputPrice=$thisParent.find(".input-price-order"),$pVolume=$thisParent.find(".table-mini-order-volume"),$pPrice=$thisParent.find(".table-mini-order-price"),$Confirm=$thisParent.find(".table-mini-order--td9"),$tableOrderCheck=$thisParent.find(".table-mini-order-check"),inputVolumeVal=$inputVolume.val(),inputPriceVal=$inputPrice.val();if("save"===option||"close"===option)"save"===option&&($pVolume.text(inputVolumeVal),$pPrice.text(inputPriceVal)),$Confirm.removeClass("active"),$tableOrderCheck.prop("checked",!1),$pVolume.show(),$inputVolume.remove(),$pPrice.show(),$inputPrice.remove();else if("edit"===option){var checkLength=$thisParent.find(".table-mini-order--td6").children().length,checkLength2=$thisParent.find(".table-mini-order--td7").children().length;if(1<checkLength||1<checkLength2)return!1;$tableOrderCheck.prop("checked",!0),$Confirm.addClass("active");var pVolume=$pVolume.text();$pVolume.after('<input class="input-volume-order" type="number" name="table-mini-order-volume" value="" />').next("input").val(pVolume).focus().prev().hide();var pPrice=$pPrice.text();$pPrice.after('<input class="input-price-order" type="text" name="table-mini-order-price" value="" />').next("input").val(pPrice).prev().hide()}}function removeListDelete(){$(".table-model-deleteOrder tbody tr").remove(),$("#deleteOrder-count").text(""),$("#pinCode").val("")}function setClock(){var d=new Date,time=d.getHours()+":"+d.getMinutes()+":"+d.getSeconds();$("#headerTime").text(time)}$("#main-loader").fadeOut("fast",function(){$(this).remove()}),$("body").click(function(e){e.stopPropagation(),$("#account-menu").slideUp("fast")});var $mainTabList=$(".main-tab .list"),$wrapBoard=$(".wrap-board");$mainTabList.eq(0).addClass("active"),$wrapBoard.eq(0).show(),$mainTabList.click(function(e){e.stopPropagation(),$wrapBoard.hide(),$mainTabList.removeClass("active"),$(this).addClass("active");var dataTabList=$(this).data().board;"quote"===dataTabList?$(".footer, .secound-col").hide():$(".footer, .secound-col").show(),$wrapBoard.each(function(i,el){if($(el).data().board===dataTabList)return $(el).show(),!1})}),$("#account").click(function(e){e.stopPropagation(),$("#account-menu").slideToggle("fast")});var $minitabList=$(".mini-tab").children("li"),$wrapTableMini=$(".wrap-table-mini");$wrapTableMini.hide().eq(0).show(),$minitabList.click(function(e){e.preventDefault(),e.stopPropagation();var dataMiniTab=$(this).data().listminitab;$minitabList.removeClass("active"),$(this).addClass("active"),$wrapTableMini.hide(),$wrapTableMini.each(function(index,el){if(dataMiniTab===$(el).data().wraptablemini)return $(el).show(),!1})}),$(".table-big").on("focus",".input-symblo",function(e){$(this).keyup(function(e){e.stopPropagation(),13!==e.keyCode&&27!==e.keyCode||$(this).blur()})});var $miniOptionType=$(".mini-option-type"),$miniOptionList=$(".mini-option-header >li");$miniOptionType.hide().eq(0).show(),$miniOptionList.click(function(e){e.stopPropagation(),$miniOptionList.removeClass("active"),$(this).addClass("active"),$miniOptionType.hide();var miniOptionToOpen=$(this).data().miniOption;$miniOptionType.each(function(index,el){if(e.stopPropagation(),$(el).data().miniOption===miniOptionToOpen)return $(el).show(),!1})}),$(".wrap-inputNumber .calnum").click(function(e){e.stopPropagation();var $inputNum=$(this).closest(".wrap-inputNumber").children('input[type="number"]'),calNum=$inputNum.val(),setInputNumber=function(num){$inputNum.val(num)},calNumLogic="plus"===$(this).data().calnum;setInputNumber(""!==calNum?calNumLogic?++calNum:--calNum:calNumLogic?1:-1)});var $optionSymblo=$(".option-symblo");$optionSymblo.focus(function(e){e.stopPropagation(),$(this).next().show()}),$(".option-symblo-list li").click(function(e){e.stopPropagation(),$optionSymblo.val($(this).attr("value")),$(".option-symblo-list").hide()}),$(".checkboxOption").click(function(e){e.stopPropagation();var bgMainForm="buy"===$(this).attr("id")?"bg-blue":"bg-purple",text=$(this).next("label").text();console.log(text),$(".main-form").removeClass("bg-gray bg-blue bg-purple").addClass(bgMainForm),$(".btn-submit").text(text),$(".btn-submit").removeClass("bg-blue bg-purple").addClass(bgMainForm),$(".wrap-model-order .buy").text(text)}),$("#btn-cound").click(function(e){e.stopPropagation(),$(".main-form").toggleClass("open").promise().done(function(){$(".wrap-form-secound").toggleClass("start"),$(".component-cond").toggle()})});var $wrapModel=$(".wrap-model"),$boxModel=$(".box-model");$(".open-model").click(function(e){e.stopPropagation();var dataModel=$(this).data().model;$wrapModel.each(function(i,el){if($(el).data().wrapmodel===dataModel)return $(el).addClass("active"),!1})}),$boxModel.click(function(e){e.stopPropagation()}),$(".close-model").click(function(e){e.stopPropagation(),"deleteOrder"===$(this).parents(".wrap-model").data().wrapmodel&&removeListDelete(),$(this).parents(".wrap-model").removeClass("active")}),$wrapModel.click(function(e){if(e.stopPropagation(),!confirm("ยกเลิกการทำรายการ"))return!1;"deleteOrder"===$(this).data().wrapmodel&&removeListDelete(),$(this).removeClass("active")});var setInputRange=function(el){var val=(el.val()-el.attr("min"))/el.attr("max")-el.attr("min");el.css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+val+", #70b420), color-stop("+val+", #c04251))"),el.closest(".wrap-input-range").children(".buy").children("span").text(el.val()),el.closest(".wrap-input-range").children(".sell").children("span").text(100-el.val())};$(".input-range").each(function(i,el){setInputRange($(el))}),$(".input-range").on("change mousemove",function(){setInputRange($(this))});var $tableMiniOrder={table:$('.table-mini[data-tablemini="order"]'),save:$(".table-mini-order-save-volume"),edit:$(".table-mini-order-edit-volume"),close:$(".table-mini-order-close-volume"),delete:$(".table-mini-order-delete-column")};$tableMiniOrder.table.on("focus",".input-volume-order,.input-price-order",function(){$(this).keyup(function(e){e.stopPropagation(),13===e.keyCode?funcTableMiniOrder($(this),"save"):27===e.keyCode&&funcTableMiniOrder($(this),"close")})}),$tableMiniOrder.save.click(function(e){e.stopPropagation(),funcTableMiniOrder(this,"save")}),$tableMiniOrder.edit.click(function(e){e.stopPropagation(),funcTableMiniOrder(this,"edit")}),$tableMiniOrder.close.click(function(e){e.stopPropagation(),funcTableMiniOrder(this,"close")}),$tableMiniOrder.delete.click(function(e){e.stopPropagation(),function($this){var $listDelete=$this.closest("tr");$(".wrap-model-deleteOrder").addClass("active"),$("#deleteOrder-count").append("Confirn to cancel the following "+$listDelete.length+" order(s)");var $el=$($listDelete),orderNum=$el.children(".table-mini-order--td2").text(),orderNvdr=$el.find(".table-mini-order-nvdr").prop("checked")?'<input 44 type="checkbox" checked>':'<input 55 type="checkbox">',orderSymbol=$el.children(".table-mini-order--td4").text(),orderSide=$el.children(".table-mini-order--td3").text(),orderPrice=$el.children(".table-mini-order--td7").text(),orderVolumn=$el.find(".table-mini-order-volume").text(),orderStatus=$el.children(".table-mini-order--td11").text();$el.find(".table-mini-order-check").prop("checked",!1);var renderListDelete="<tr>\n                                    <td>"+orderNum+"</td>\n                                    <td>"+orderNvdr+"</td>\n                                    <td>"+orderSymbol+"</td>\n                                    <td>"+orderSide+"</td>\n                                    <td>"+orderPrice+"</td>\n                                    <td>"+orderVolumn+"</td>\n                                    <td>"+orderStatus+"</td>\n                                    </tr>\n                                    ";$(".table-model-deleteOrder tbody").append(renderListDelete)}($(this))}),$("#btn-cancel-tabmini-order").click(function(e){e.stopPropagation();var $listDelete=$(".wrap-table-mini-order").find(".table-mini-order-check:checked").closest("tr");$(".wrap-model-deleteOrder").addClass("active"),$("#deleteOrder-count").append("Confirn to cancel the following "+$listDelete.length+" order(s)"),$listDelete.each(function(index,el){var $el=$(el),orderNum=$el.children(".table-mini-order--td2").text(),orderNvdr=$el.find(".table-mini-order-nvdr").prop("checked")?'<input type="checkbox" checked>':'<input type="checkbox">',orderSymbol=$el.children(".table-mini-order--td4").text(),orderSide=$el.children(".table-mini-order--td3").text(),orderPrice=$el.children(".table-mini-order--td7").text(),orderVolumn=$el.find(".table-mini-order-volume").text(),orderStatus=$el.children(".table-mini-order--td11").text();$el.find(".table-mini-order-check").prop("checked",!1);var renderListDelete="<tr>\n                                    <td>"+orderNum+"</td>\n                                    <td>"+orderNvdr+"</td>\n                                    <td>"+orderSymbol+"</td>\n                                    <td>"+orderSide+"</td>\n                                    <td>"+orderPrice+"</td>\n                                    <td>"+orderVolumn+"</td>\n                                    <td>"+orderStatus+"</td>\n                                    </tr>\n                                    ";$(".table-model-deleteOrder tbody").append(renderListDelete)})});var d,date,$dataType=$(".dataType");$dataType.hide().eq(0).show(),$(".icon-dataType").click(function(e){e.stopPropagation();var typeForShow=$(this).data().type;$dataType.hide(),$dataType.each(function(index,el){if($(el).data().type===typeForShow)return $(el).show(),!1})}),setClock(),d=new Date,date=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][d.getDay()]+" \n                "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getMonth()]+" \n                "+d.getDate()+" "+d.getFullYear(),$("#headerDate").text(date),setInterval(function(){setClock()},1e3)});